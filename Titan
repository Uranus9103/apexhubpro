local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")
local HRP = character:WaitForChild("HumanoidRootPart")

-- Kích thước ban đầu
local originalScale = 1
local bigScale = 3

-- Tạo GUI
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "SizeChangerGUI"
screenGui.Parent = player:WaitForChild("PlayerGui")
screenGui.ResetOnSpawn = false

-- Khung viền
local borderFrame = Instance.new("Frame")
borderFrame.Size = UDim2.new(0, 180, 0, 80)
borderFrame.Position = UDim2.new(1, -200, 0, 20)
borderFrame.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
borderFrame.BorderSizePixel = 0
borderFrame.Parent = screenGui

local uiCorner = Instance.new("UICorner", borderFrame)
uiCorner.CornerRadius = UDim.new(0, 10)

-- Gradient viền
local uiGradient = Instance.new("UIGradient", borderFrame)
uiGradient.Color = ColorSequence.new{
	ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 0, 0)),
	ColorSequenceKeypoint.new(0.33, Color3.fromRGB(0, 255, 0)),
	ColorSequenceKeypoint.new(0.66, Color3.fromRGB(0, 0, 255)),
	ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 0, 0))
}
uiGradient.Rotation = 0

-- Khung trong
local innerFrame = Instance.new("Frame")
innerFrame.Size = UDim2.new(1, -6, 1, -6)
innerFrame.Position = UDim2.new(0, 3, 0, 3)
innerFrame.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
innerFrame.BorderSizePixel = 0
innerFrame.Parent = borderFrame

local innerCorner = Instance.new("UICorner", innerFrame)
innerCorner.CornerRadius = UDim.new(0, 8)

-- Nút Biến To
local bigButton = Instance.new("TextButton")
bigButton.Size = UDim2.new(1, 0, 0.5, 0)
bigButton.Position = UDim2.new(0, 0, 0, 0)
bigButton.Text = "Biến To"
bigButton.BackgroundTransparency = 1
bigButton.TextColor3 = Color3.fromRGB(255, 255, 255)
bigButton.Font = Enum.Font.SourceSansBold
bigButton.TextSize = 18
bigButton.Parent = innerFrame

-- Nút Bình Thường
local normalButton = Instance.new("TextButton")
normalButton.Size = UDim2.new(1, 0, 0.5, 0)
normalButton.Position = UDim2.new(0, 0, 0.5, 0)
normalButton.Text = "Bình Thường"
normalButton.BackgroundTransparency = 1
normalButton.TextColor3 = Color3.fromRGB(255, 255, 255)
normalButton.Font = Enum.Font.SourceSansBold
normalButton.TextSize = 18
normalButton.Parent = innerFrame

-- Âm thanh bùm
local boomSound = Instance.new("Sound", HRP)
boomSound.SoundId = "rbxassetid://138186576" -- Tiếng nổ vui
boomSound.Volume = 3

-- Hiệu ứng viền quay
task.spawn(function()
	while task.wait(0.03) do
		uiGradient.Rotation = (uiGradient.Rotation + 1) % 360
	end
end)

-- Hàm thay đổi scale mượt
local function setScale(targetScale)
	local s = humanoid:FindFirstChild("BodyHeightScale") or Instance.new("NumberValue", humanoid)
	s.Name = "BodyHeightScale"
	local w = humanoid:FindFirstChild("BodyWidthScale") or Instance.new("NumberValue", humanoid)
	w.Name = "BodyWidthScale"
	local d = humanoid:FindFirstChild("BodyDepthScale") or Instance.new("NumberValue", humanoid)
	d.Name = "BodyDepthScale"

	for i = 0, 1, 0.05 do
		local newScale = s.Value + (targetScale - s.Value) * i
		s.Value = newScale
		w.Value = newScale
		d.Value = newScale
		task.wait(0.02)
	end
end

-- Sự kiện nút
bigButton.MouseButton1Click:Connect(function()
	boomSound:Play()
	setScale(bigScale)
end)

normalButton.MouseButton1Click:Connect(function()
	boomSound:Play()
	setScale(originalScale)
end)

-- Kéo thả
local UIS = game:GetService("UserInputService")
local dragging, dragStart, startPos
borderFrame.InputBegan:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
		dragging = true
		dragStart = input.Position
		startPos = borderFrame.Position
	end
end)

UIS.InputChanged:Connect(function(input)
	if dragging and (input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch) then
		local delta = input.Position - dragStart
		borderFrame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
	end
end)

UIS.InputEnded:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
		dragging = false
	end
end)
